Fix handling of files without a tailing newline.  Currently all files
that are visited are updated to have a trailing newline, even if they
do not otherwise need to be modified.  Ideally, the presence of
absence of a trailing newline should be preserved, but at the very
least, files should not be changed just to add a trailing newline.